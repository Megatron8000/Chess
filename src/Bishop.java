class Bishop extends Piece {
    // Объявление класса слона (Bishop), который наследует базовый абстрактный класс Piece.

    public Bishop(boolean white) {
        // Конструктор слона, принимает цвет фигуры: true — белый, false — чёрный.
        super(white);
        // Передаёт цвет в конструктор родительского класса Piece, чтобы инициализировать поле white.
    }

    @Override

    boolean canMove(Board board, Spot start, Spot end) {
        // Метод проверяет, может ли слон сделать ход с клетки start на клетку end на данной доске board.

        if (sameColor(start.getPiece(), end.getPiece())) return false;
        // Если на конечной клетке стоит фигура того же цвета, что и на начальной, ход запрещён.

        int dx = end.getX() - start.getX();
        // Горизонтальное смещение: разница координат X (столбцов) между конечной и начальной клеткой.
        int dy = end.getY() - start.getY();
        // Вертикальное смещение: разница координат Y (строк) между конечной и начальной клеткой.

        if (Math.abs(dx) != Math.abs(dy)) return false; // не диагональ  
        // Слон ходит только по диагонали, значит модуль смещения по X и по Y должен совпадать.
        // Если они не равны — движение не по диагонали, ход запрещён.

        int stepX = Integer.signum(dx);
        // Определяем направление движения по оси X: +1 (вправо), -1 (влево).
        int stepY = Integer.signum(dy);
        // Определяем направление движения по оси Y: +1 (вниз), -1 (вверх).

        int x = start.getX() + stepX;
        // Начинаем проверку с первой клетки после начальной по X.
        int y = start.getY() + stepY;
        // Начинаем проверку с первой клетки после начальной по Y.

        while (x != end.getX() || y != end.getY()) {
            // Идём по всем клеткам по диагонали от start до end, не включая конечную.
            if (board.getBox(x, y).getPiece() != null) return false;
            // Если на одной из промежуточных клеток стоит любая фигура, слон не может «перепрыгнуть» её — ход запрещён.
            x += stepX;
            // Переходим к следующей клетке по X в том же направлении.
            y += stepY;
            // Переходим к следующей клетке по Y в том же направлении.
        }

        return true;
    }
}
        // Если по диагональному пути до конечной клетки не встретилось ни одной фигуры,
        // ход слона считается корректным (фигура на end может быть либо пустой, либо вражеской).