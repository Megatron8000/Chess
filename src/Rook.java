class Rook extends Piece {
// Объявление класса ладьи (Rook), наследующего базовый класс Piece для шахматных фигур.

    public Rook(boolean white) {
        // Конструктор ладьи, принимает цвет фигуры (true — белая, false — чёрная).
        super(white);
        // Вызов конструктора родительского класса Piece для установки цвета.
    }

    @Override

    boolean canMove(Board board, Spot start, Spot end) {
        // Основной метод: проверяет, может ли ладья пройти с клетки start на клетку end.

        if (sameColor(start.getPiece(), end.getPiece())) return false;
        // Запрещаем ход на клетку с фигурой того же цвета (нельзя бить своих).

        int dx = end.getX() - start.getX();
        // Вычисляем горизонтальное расстояние между начальной и конечной клеткой.
        int dy = end.getY() - start.getY();
        // Вычисляем вертикальное расстояние между начальной и конечной клеткой.

        // должна двигаться только по одной оси
        // Ладья ходит только по горизонтали ИЛИ вертикали, но не по диагонали.
        if (dx != 0 && dy != 0) return false;
        // Если смещение есть и по X, и по Y — это диагональ, ход запрещён.

        int stepX = Integer.signum(dx);
        // Определяем шаг по X: +1 (вправо), -1 (влево) или 0 (не двигаемся по X).
        int stepY = Integer.signum(dy);
        // Определяем шаг по Y: +1 (вниз), -1 (вверх) или 0 (не двигаемся по Y).

        int x = start.getX() + stepX;
        // Начинаем проверку с первой клетки после начальной позиции по оси X.
        int y = start.getY() + stepY;
        // Начинаем проверку с первой клетки после начальной позиции по оси Y.

        while (x != end.getX() || y != end.getY()) {
            // Цикл проходит по всем клеткам пути от start до end (не включая конечную).
            if (board.getBox(x, y).getPiece() != null) return false;
            // Если на промежуточной клетке стоит любая фигура — ладья не может перепрыгнуть.
            x += stepX;
            // Переходим к следующей клетке по оси X.
            y += stepY;
            // Переходим к следующей клетке по оси Y.
        }

        return true;
        // Если путь свободен — ладья может сделать этот ход.
    }
}